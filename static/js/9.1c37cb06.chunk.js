(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{5605:function(e,t,n){"use strict";n.r(t);var r=n(8),a=n(62),i=n(63),l=n(65),c=n(64),o=n(66),u=n(0),s=n.n(u),f=n(20),d=n(21),p=n(61),v=n(67),m=n(177),y=n(75),b=n(9),h=n(68),g=Object(u.lazy)(function(){return n.e(12).then(n.bind(null,5602))}),w=Object(u.lazy)(function(){return n.e(13).then(n.bind(null,5603))}),O=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e))).handleNext=function(){return n.setState(Object(r.a)({},n.state,{activeStep:n.state.activeStep+1}))},n.setActiveStep=function(e){return n.setState(Object(r.a)({},n.state,{activeStep:e}))},n.tickTime=function(){return n.props.tickTime(n.props.game,b.f.night)},n.state={activeStep:0},n}return Object(o.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.game,a=t.setting,i=this.state.activeStep,l=0;return s.a.createElement("div",{className:n.root},s.a.createElement(g,{initialCount:a.interval}),s.a.createElement(v.u,{variant:"h2",gutterBottom:!0},"Noon"),s.a.createElement(v.u,{variant:"subtitle1",gutterBottom:!0},"Day ",r.date.day),s.a.createElement(v.s,{className:n.stepper,activeStep:i,orientation:"vertical"},r.players.map(function(t,r){if(t.alive){var a=l;return l++,s.a.createElement(v.p,{key:String(t)},s.a.createElement(v.r,{className:n.stepLabel,onClick:function(){return e.setActiveStep(a)}},t.name),s.a.createElement(v.q,null,s.a.createElement("div",{className:n.content},s.a.createElement(w,{player:t}),s.a.createElement(v.a,{variant:"contained",color:"primary",onClick:e.handleNext,className:n.wrapper},"Next"))))}})),s.a.createElement("div",{className:n.wrapper},s.a.createElement(v.g,Object.assign({onClick:this.tickTime,component:d.b},{to:"/result"},{color:"primary"}),s.a.createElement(m.a,null))))}}]),t}(s.a.Component);t.default=Object(f.b)(function(e){return{setting:e.setting,game:e.game}},{tickTime:y.d})(Object(h.a)(Object(p.withStyles)(function(e){return Object(p.createStyles)({root:{paddingTop:10*e.spacing.unit,textAlign:"center"},wrapper:{margin:2*e.spacing.unit},stepper:{backgroundColor:"transparent"},content:{display:"flex",flexDirection:"row",justifyContent:"center"},stepLabel:{textAlign:"left"}})})(O)))},68:function(e,t,n){"use strict";var r=n(70),a=n(73),i=n.n(a),l=n(61),c=n(0),o=Object(l.createMuiTheme)({palette:{primary:r.blue,secondary:r.pink},typography:{useNextVariants:!0}});t.a=function(e){return function(t){return c.createElement(l.MuiThemeProvider,{theme:o},c.createElement(i.a,null),c.createElement(e,t))}}},75:function(e,t,n){"use strict";var r=n(8),a=n(15);var i=n(9);n.d(t,"c",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return u}),n.d(t,"d",function(){return f});var l=function(e,t){var n=function(e){for(var t=Array.from(e),n=t.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),a=t[n];t[n]=t[r],t[r]=a}return t}(function(e){var t=0,n=!0,r=!1,a=void 0;try{for(var l,c=e[Symbol.iterator]();!(n=(l=c.next()).done);n=!0)t+=l.value}catch(d){r=!0,a=d}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}var o=new Array(t),u=0;for(var s in i.d)if(!isNaN(Number(s)))for(var f=0;f<e[s];f++)o[u++]=Number(s);return o}(t));return{type:i.c,game:{players:n.map(function(t,n){return{id:n+1,alive:!0,actioned:!1,name:e[n]||"Player ".concat(n+1),role:t,voteId:null,actionId:null}}),date:{day:0,time:i.f.night},state:{winner:null,lastDiedPlayer:null}}}},c=function(e,t,n){return{type:i.h,players:e.map(function(e){return e.id===t&&(e.voteId=n),e})}},o=function(e,t,n){return{type:i.a,players:e.map(function(e){return e.id===t&&(e.actionId=n),e})}},u=function(e,t){return{type:i.b,players:e.map(function(e){return e.id===t&&(e.actioned=!0),e})}};function s(e,t){var n=null,l=[],c=function(e){var t={},n=!0,r=!1,i=void 0;try{for(var l,c=e[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var o=l.value;t.hasOwnProperty(o)?t[o]++:t[o]=1}}catch(p){r=!0,i=p}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}var u=0,s=[];for(var f in t)if(t.hasOwnProperty(f)&&-1!==Number(f)){var d=t[f];u===d?s=[].concat(Object(a.a)(s),[Number(f)]):u<d&&(u=d,s=[Number(f)])}return s[Math.floor(Math.random()*s.length)]||null}(e.map(function(e){return(t===i.f.night?e.voteId:e.actionId)||-1})),o=!0,u=!1,s=void 0;try{for(var f,d=e[Symbol.iterator]();!(o=(f=d.next()).done);o=!0){var p=f.value;p.role===i.d.doctor&&p.actionId&&(l=[].concat(Object(a.a)(l),[p.actionId]))}}catch(h){u=!0,s=h}finally{try{o||null==d.return||d.return()}finally{if(u)throw s}}if(c)for(var v=l,m=0;m<v.length;m++){var y=v[m];if(c===y){c=null;break}}var b=e.map(function(e){return e.id===c?(n=e,Object(r.a)({},e,{alive:!1,actioned:!1,actionId:null,voteId:null})):Object(r.a)({},e,{actioned:!1,actionId:null,voteId:null})});return{lastDiedPlayer:n,votedPlayers:b}}var f=function(e,t){var n=s(e.players,t),r=n.lastDiedPlayer,a=n.votedPlayers,l=function(e){var t=e.filter(function(e){return e.alive}),n=t.filter(function(e){return e.role===i.d.werewolf});return t.length===n.length?i.d.werewolf:0===n.length?i.d.villager:null}(a);return{type:i.e,game:{players:a,date:{day:t===i.f.night?e.date.day:e.date.day+1,time:t},state:{winner:l,lastDiedPlayer:r}}}}}}]);
//# sourceMappingURL=9.1c37cb06.chunk.js.map